癤? ?끏截?SafeParking

?ㅼ떆媛?怨듭쁺二쇱감??寃??諛?KNSDK 3D ?대퉬寃뚯씠?섏쓣 吏?먰븯???덈뱶濡쒖씠???깆엯?덈떎.

## ?벑 二쇱슂 湲곕뒫

- **移댁뭅?ㅻ㏊ 吏??* ??二쇰? 二쇱감??留덉빱 ?쒖떆, 寃쎈줈 誘몃━蹂닿린
- **?μ냼 寃??* ??移댁뭅??濡쒖뺄 API ?듯빀 (二쇱감??+ ?쇰컲 ?μ냼)
- **怨듭쁺二쇱감???뺣낫** ??怨듦났?곗씠?고룷??API ?곕룞 (?꾧뎅 二쇱감??
- **KNSDK 3D ?대퉬寃뚯씠??* ??移댁뭅?ㅻえ鍮뚮━???대컮?댄꽩 ?대퉬
- **AI 異붿쿇** ??二쇱감??AI ?댁떆?ㅽ꽩??
- **?꾩옱 ?꾩튂** ??GPS 湲곕컲 ???꾩튂 ?쒖떆

## ?썱截?湲곗닠 ?ㅽ깮

| 遺꾨쪟 | 湲곗닠 |
|------|------|
| Framework | React Native + Expo SDK 54 (bare workflow) |
| Navigation | React Navigation (Stack + Bottom Tabs) |
| Map | Kakao Maps JS SDK (WebView) |
| Navigation SDK | KNSDK UI SDK v1.12.7 |
| API | Kakao Local, Kakao Mobility, 怨듦났?곗씠?고룷??|
| Build | Java 21, Kotlin 2.1.20, Gradle 8.14.3 |
| Target | Android (minSdk 26, targetSdk 35) |

## ?뱥 ?ъ쟾 以鍮?

### 1. API ??諛쒓툒

| ??| 諛쒓툒泥?| ?⑸룄 |
|----|--------|------|
| Kakao JavaScript ??| [Kakao Developers](https://developers.kakao.com) ?????좏뵆由ъ??댁뀡 ??????| 吏???쒖떆 |
| Kakao REST API ??| ?꾩? ?숈씪 | ?μ냼 寃?? 湲몄갼湲?|
| Kakao Native App ??| ?꾩? ?숈씪 | KNSDK ?대퉬寃뚯씠??|
| 怨듦났?곗씠??二쇱감????| [怨듦났?곗씠?고룷??(https://www.data.go.kr) ??援?넗援먰넻遺_?꾧뎅 二쇱감???뺣낫 | 二쇱감???곗씠??|

### 2. 移댁뭅??媛쒕컻??肄섏넄 ?ㅼ젙

1. [Kakao Developers](https://developers.kakao.com)?먯꽌 ?좏뵆由ъ??댁뀡 ?앹꽦
2. **?뚮옯??* ??Android 異붽?:
   - ?⑦궎吏紐? `com.triceratops.safeparking`
   - ???댁떆: ?꾨옒 諛⑸쾿?쇰줈 異붿텧??媛믪쓣 ?깅줉
3. **???댁떆 異붿텧 諛⑸쾿** (?덊룷???ы븿??`debug.keystore` ?ъ슜):
   ```bash
   # Linux / Mac
   keytool -exportcert -alias androiddebugkey -keystore android/app/debug.keystore -storepass android | openssl dgst -sha1 -binary | openssl base64

   # Windows (PowerShell)
   keytool -exportcert -alias androiddebugkey -keystore android\app\debug.keystore -storepass android | openssl dgst -sha1 -binary | openssl base64
   ```
   > ?덊룷???ы븿??keystore?????댁떆: `Xo8WBi6jzSxKDVR4drqm84yr9iU=`
   > ?????댁떆瑜?移댁뭅??媛쒕컻??肄섏넄???깅줉?섎㈃ 蹂꾨룄 keystore ?놁씠 諛붾줈 ?ъ슜 媛?ν빀?덈떎.

### 3. ?섍꼍 ?ㅼ젙

- **Java 21** ?ㅼ튂
- **Node.js 18+** ?ㅼ튂
- **Android SDK** (compileSdk 35)

## ?? ?ㅼ튂 諛??ㅽ뻾

### 1. ?대줎 諛??섏〈???ㅼ튂
```bash
git clone https://github.com/rendezvousgo/KdigitalProject3Team.git
cd KdigitalProject3Team/gps
npm install
```

### 2. API ???ㅼ젙

**諛⑸쾿 A ??`keys.js` 吏곸젒 ?섏젙 (媛꾪렪)**

[src/config/keys.js](src/config/keys.js) ?뚯씪???댁뼱 ?ㅺ컪??蹂몄씤 寃껋쑝濡?援먯껜:

```javascript
export const KAKAO_JS_KEY = '蹂몄씤_移댁뭅??JavaScript_??;
export const KAKAO_REST_API_KEY = '蹂몄씤_移댁뭅??REST_API_??;
export const KAKAO_NATIVE_APP_KEY = '蹂몄씤_移댁뭅??Native_????;
export const PARKING_API_KEY = '蹂몄씤_怨듦났?곗씠??二쇱감??API_??;
```

**諛⑸쾿 B ??KNSDK Native ??蹂寃?* (?대퉬寃뚯씠???ъ슜 ??

[android/app/src/main/java/com/triceratops/safeparking/KNSDKModule.kt](android/app/src/main/java/com/triceratops/safeparking/KNSDKModule.kt)?먯꽌:

```kotlin
const val KAKAO_NATIVE_APP_KEY = "蹂몄씤_移댁뭅??Native_????
```

### 3. 鍮뚮뱶 諛??ㅽ뻾

> ?좑툘 `npx expo prebuild`??**?ㅽ뻾?섏? 留덉꽭??*. `android/` ?붾젆?좊━媛 ?대? ?덊룷???ы븿?섏뼱 ?덉쑝硫? KNSDK ?ㅼ씠?곕툕 紐⑤뱢???ㅼ뼱?덉뼱 prebuild瑜??ㅽ뻾?섎㈃ 而ㅼ뒪? 肄붾뱶媛 紐⑤몢 珥덇린?붾맗?덈떎.

```bash
# 1. assets ?붾젆?좊━ ?앹꽦 (?놁쓣 寃쎌슦)
mkdir -p android/app/src/main/assets

# 2. JS 踰덈뱾 ?앹꽦
npx expo export:embed --platform android --dev false \
  --entry-file index.js \
  --bundle-output android/app/src/main/assets/index.android.bundle \
  --assets-dest android/app/src/main/res

# 3. APK 鍮뚮뱶
cd android
./gradlew assembleDebug          # Linux / Mac
.\gradlew.bat assembleDebug      # Windows

# 4. ?붾컮?댁뒪???ㅼ튂 (USB ?붾쾭源??곌껐 ?꾩슂)
adb install -r app/build/outputs/apk/debug/app-debug.apk
```

**Windows PowerShell?먯꽌 鍮뚮뱶?섎뒗 寃쎌슦:**
```powershell
# assets ?붾젆?좊━ ?앹꽦
New-Item -ItemType Directory -Path "android\app\src\main\assets" -Force

# JS 踰덈뱾 ?앹꽦
npx expo export:embed --platform android --dev false --entry-file index.js --bundle-output android/app/src/main/assets/index.android.bundle --assets-dest android/app/src/main/res

# APK 鍮뚮뱶
cd android
.\gradlew.bat assembleDebug
```

## ?뱚 ?꾨줈?앺듃 援ъ“

```
KdigitalProject3Team/
?쒋?? README.md
?쒋?? backend/
?붴?? gps/
    ?쒋?? src/
    ??  ?쒋?? config/
    ??  ??  ?붴?? keys.js              # ?좑툘 API ???ㅼ젙 (???뚯씪 ?섏젙)
    ??  ?쒋?? components/
    ??  ??  ?쒋?? KakaoMapNative.js    # Android 移댁뭅?ㅻ㏊ (WebView)
    ??  ??  ?붴?? KakaoMapWeb.js       # Web 移댁뭅?ㅻ㏊
    ??  ?쒋?? screens/
    ??  ??  ?쒋?? HomeScreen.js        # 硫붿씤 吏???붾㈃
    ??  ??  ?쒋?? SearchScreen.js      # 寃???붾㈃
    ??  ??  ?쒋?? AIAssistantScreen.js # AI 異붿쿇
    ??  ??  ?붴?? ProfileScreen.js     # ?꾨줈??
    ??  ?쒋?? navigation/
    ??  ??  ?붴?? AppNavigator.js      # Stack + Tab ?ㅻ퉬寃뚯씠??
    ??  ?붴?? services/
    ??      ?쒋?? api.js               # API ?몄텧 (移댁뭅?? 怨듦났?곗씠??
    ??      ?쒋?? navigation.js        # 移댁뭅?ㅻ궡鍮??곕룞
    ??      ?쒋?? knsdkBridge.js       # KNSDK 釉뚮┸吏
    ??      ?붴?? eventBus.js          # ?붾㈃ 媛??대깽???듭떊
    ?쒋?? android/
    ??  ?붴?? app/src/main/java/com/triceratops/safeparking/
    ??      ?쒋?? KNSDKModule.kt       # KNSDK ?ㅼ씠?곕툕 紐⑤뱢
    ??      ?쒋?? KNNaviActivity.kt    # ?대퉬 Activity
    ??      ?붴?? MainApplication.kt   # KNSDK 珥덇린??
    ?쒋?? .env.example                 # ?섍꼍蹂???쒗뵆由?
    ?쒋?? app.config.js                # Expo ?ㅼ젙
    ?붴?? package.json
```

## ?좑툘 二쇱쓽?ы빆

- KNSDK ?대퉬寃뚯씠?섏쓣 ?ъ슜?섎젮硫?**移댁뭅??媛쒕컻??肄섏넄??蹂몄씤?????댁떆瑜?諛섎뱶???깅줉**?댁빞 ?⑸땲??
- `debug.keystore`媛 ?ㅻⅤ硫????댁떆媛 ?щ씪??KNSDK ?몄쬆 ?ㅽ뙣(C103)媛 諛쒖깮?⑸땲??
- 怨듦났?곗씠??API???쇱씪 ?몄텧 ?쒗븳(1,000嫄????덉뒿?덈떎.
- **?덊룷???ы븿??`debug.keystore`?????댁떆**: `Xo8WBi6jzSxKDVR4drqm84yr9iU=`

## ?뵩 ?몃윭釉붿뒋??

### npm install ??expo媛 ?ㅼ튂?섏? ?딅뒗 寃쎌슦
```bash
# node_modules? lock ?뚯씪 ??젣 ???ъ꽕移?
rm -rf node_modules package-lock.json
npm cache clean --force
npm install
```

### "export:embed is not an expo command" ?ㅻ쪟
湲濡쒕쾶 ?덇굅??`expo-cli`媛 ?ㅼ튂?섏뼱 ?덉쑝硫?濡쒖뺄 expo瑜?媛由쎈땲??
```bash
# 湲濡쒕쾶 expo-cli ?쒓굅 (諛섎뱶??)
npm uninstall -g expo-cli
npm uninstall -g @expo/cli
```

### CMake "Permission denied" ?ㅻ쪟 (Gradle 鍮뚮뱶 ??
?댁쟾 鍮뚮뱶?먯꽌 ?⑥? 罹먯떆 ?뚯씪 異⑸룎:
```bash
# reanimated 鍮뚮뱶 罹먯떆 ??젣
rm -rf node_modules/react-native-reanimated/android/.cxx
rm -rf node_modules/react-native-reanimated/android/build
# Gradle ?곕が 醫낅즺 ???щ퉴??
cd android && ./gradlew --stop && ./gradlew assembleDebug
```

### C ?쒕씪?대툕 ?⑸웾 遺議???Gradle 鍮뚮뱶 ?섍꼍蹂??
```powershell
$env:GRADLE_USER_HOME="D:\gradle-home"
$env:TEMP="D:\build-temp"
$env:TMP="D:\build-temp"
$env:GRADLE_OPTS="-Djava.io.tmpdir=D:\build-temp -Xmx1536m"
```

## ?뱥 鍮뚮뱶 ?꾩닔 ?섍꼍 ?붿빟

| ??ぉ | 踰꾩쟾/?ㅼ젙 |
|------|-----------|
| Node.js | 18+ (v20 LTS 沅뚯옣, v24???명솚???댁뒋 媛?? |
| Java | JDK 21 |
| Android SDK | compileSdk 35, minSdk 26 |
| NDK | 27.1.12297006 (Android Studio?먯꽌 ?ㅼ튂) |
| CMake | 3.22.1 (Android Studio SDK Manager?먯꽌 ?ㅼ튂) |
| Gradle | 8.14.3 (gradlew媛 ?먮룞 ?ㅼ슫濡쒕뱶) |
| Kotlin | 2.1.20 |
| expo-cli (湲濡쒕쾶) | **?ㅼ튂?섎㈃ ????* ??濡쒖뺄 expo留??ъ슜 |

## ?뱞 ?쇱씠?좎뒪

???꾨줈?앺듃???숈뒿 紐⑹쟻?쇰줈 ?쒖옉?섏뿀?듬땲??
